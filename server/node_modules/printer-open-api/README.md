# Printer Open API JavaScript/TypeScript SDK
这是水獭掌柜官方Printer Open API的JavaScript/TypeScript SDK。该SDK主要提供`Client`以及`User`类，分别用来暴露公共API以及维护业务人员分发的userName及userKey等用户信息。

## 公共API
- bindPrinters
- print
- unbindPrinters
- queryTaskPrintState
- queryPrinterStatus

## 示例代码
```javascript
const sdk = require('printer-open-api');

const client = new sdk.Client(new sdk.User('userName', 'userKey'));
try {
    const printerBindResult = await client.bindPrinters({bindPrinterParams: [{sn: 'printerSN1', model:'GP-SH584'}, {sn: 'printerSN2', model:'LH586', alias: 'test1'}]});
    console.log('bind result:', printerBindResult);
    const printTaskID = await client.print({sn: 'printerSN1', content: 'test print content', times: 2} as PrintParam);
    console.log(printTaskID);
    const printTaskState = await client.queryTaskPrintState(printTaskID);
    console.log('query print task result: ', printTaskState);
    const printerStatus = await client.queryPrinterStatus('printerSN1');
    console.log('query printer status result: ', printerStatus);
    const unbindPrintersResult = await client.unbindPrinters({snList: ['printerSN1', 'printerSN2']});
    console.log('unbind printers result: ', unbindPrintersResult);
} catch(err) {
    console.error('error: ', err);
}
```

---
# Printer Open API JavaScript/TypeScript SDK
This is the official JavaScript/TypeScript SDK for Shuitazhanggui Printer Open API. It exposes 2 main classes: `Client` and `User` where `User` maintains userName and userKey which are issued by the business personnel and are critical for initiating requests to the Printer Open API backend. `Client` provides easy-to-use APIs to send requests to the Printer Open API backend.

## Supported APIs
- bindPrinters
- print
- unbindPrinters
- queryTaskPrintState
- queryPrinterStatus

## Sample Code
```javascript
const sdk = require('printer-open-api');

const client = new sdk.Client(new sdk.User('userName', 'userKey'));
try {
    const printerBindResult = await client.bindPrinters({bindPrinterParams: [{sn: 'printerSN1', model:'GP-SH584'}, {sn: 'printerSN2', model:'LH586', alias: 'test1'}]});
    console.log('bind result:', printerBindResult);
    const printTaskID = await client.print({sn: 'printerSN1', content: 'test print content', times: 2} as PrintParam);
    console.log(printTaskID);
    const printTaskState = await client.queryTaskPrintState(printTaskID);
    console.log('query print task result: ', printTaskState);
    const printerStatus = await client.queryPrinterStatus('printerSN1');
    console.log('query printer status result: ', printerStatus);
    const unbindPrintersResult = await client.unbindPrinters({snList: ['printerSN1', 'printerSN2']});
    console.log('unbind printers result: ', unbindPrintersResult);
} catch(err) {
    console.error('error: ', err);
}
```
